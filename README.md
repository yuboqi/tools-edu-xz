# 🏃‍♂️ 体育工具系统 (Next.js 版)

一个基于 **Next.js + React + Tailwind CSS** 构建的现代化体育比赛与数据管理工具平台,提供多种专业的体育工具,帮助您轻松管理体育比赛和数据分析。

## 📋 项目简介

本项目是一个多功能的体育工具系统,目前包含两个核心功能模块:

1. **弯道跑计分系统** - 简单、准确、易用的比赛计分工具
2. **体测数据对比系统** - 可视化体测数据对比分析工具

系统采用现代化的 Next.js 框架,使用 React 组件化开发,Tailwind CSS 实现响应式设计,提供优秀的用户体验。

## 🎨 技术栈

- **框架**: Next.js 14
- **前端**: React 18 + TypeScript
- **样式**: Tailwind CSS 3
- **图表**: ECharts 5 + echarts-for-react
- **构建工具**: Next.js (内置 Webpack)
- **包管理**: npm/yarn/pnpm

## 🚀 快速开始

### 安装依赖

```bash
# 使用 npm
npm install

# 或使用 yarn
yarn install

# 或使用 pnpm
pnpm install
```

### 开发模式

```bash
npm run dev
```

然后在浏览器中打开 [http://localhost:3000](http://localhost:3000)

### 生产构建

```bash
# 构建项目
npm run build

# 启动生产服务器
npm run start
```

## 📁 项目结构

```
tools-edu-xz/
├── pages/                  # Next.js 页面目录
│   ├── _app.tsx           # App 组件,全局配置
│   ├── _document.tsx      # Document 组件,HTML 结构
│   ├── index.tsx          # 主页
│   ├── scoring.tsx        # 弯道跑计分系统页面
│   └── compare.tsx        # 体测数据对比系统页面
├── components/            # React 组件目录
│   └── Navbar.tsx        # 导航栏组件
├── styles/               # 样式文件目录
│   └── globals.css       # 全局样式(含 Tailwind)
├── public/               # 静态资源目录
├── next.config.js        # Next.js 配置文件
├── tailwind.config.js    # Tailwind CSS 配置
├── tsconfig.json         # TypeScript 配置
├── package.json          # 项目依赖配置
└── README.md            # 项目说明文档
```

## ✨ 功能模块

### 1️⃣ 弯道跑计分系统

专为弯道跑比赛设计的实时计分工具。

**访问路径**: `/scoring`

#### 核心功能

- **实时计分**: 按轮次进行比赛计分,第 1 名 4 分,第 2 名 3 分,第 3 名 2 分,第 4 名 1 分
- **总分排行榜**: 实时显示各组别累计得分,支持同分情况的合理排名
- **比赛历史**: 完整记录每轮比赛的详细成绩
- **数据持久化**: 使用 localStorage 自动保存,刷新页面数据不丢失
- **Excel 导出**: 一键导出总分排行榜和比赛历史为 CSV 文件

#### 使用方法

1. **开始比赛**

   - 访问弯道跑计分系统页面
   - 系统默认会开始第一轮比赛
   - 为每个组别选择名次(点击 1、2、3、4 名按钮)

2. **提交成绩**

   - 确保所有组别都选择了名次
   - 点击"提交本轮成绩"按钮
   - 系统自动计算并更新总分

3. **查看排行榜**

   - 总分排行榜实时更新
   - 同分组别按字母顺序排列
   - 显示排名图标(🥇🥈🥉)

4. **导出数据**
   - 点击"📊 导出 Excel"按钮导出总分排行榜
   - 点击"📋 导出 Excel"按钮导出比赛历史

#### 计分规则

| 名次    | 得分 | 说明    |
| ------- | ---- | ------- |
| 第 1 名 | 4 分 | 🥇 金牌 |
| 第 2 名 | 3 分 | 🥈 银牌 |
| 第 3 名 | 2 分 | 🥉 铜牌 |
| 第 4 名 | 1 分 | 第四名  |

---

### 2️⃣ 体测数据对比系统

可视化体测数据对比分析工具,支持多年度、多等级数据对比,**全新多工作区管理功能**。

**访问路径**: `/compare`

#### 核心功能

- **🗂️ 多工作区管理**: 类似 Excel 工作表,支持管理多个班级的数据
  - 创建、重命名、删除工作区
  - 快速切换不同班级数据
  - 工作区标签可双击重命名
- **💾 数据持久化**:
  - 本地保存到 localStorage,数据不丢失
  - 一键保存当前进度
  - 实时显示保存状态
- **📥📤 导入导出**:
  - 支持 JSON 格式数据导入导出
  - 方便数据备份和迁移
  - 支持跨设备数据传输
- **📊 数据可视化**: 基于 ECharts 的精美柱状图展示
- **🔄 动态数据管理**: 支持添加/删除项目和系列
- **↕️ 拖拽排序**: 通过拖动表格行调整项目显示顺序
- **✏️ 实时编辑**: 表格直接编辑,实时更新图表
- **🔍 图表缩放**: 支持数据缩放和滚动查看
- **📸 图片导出**: 一键导出高清图表图片

#### 使用方法

1. **访问系统**

   - 访问体测数据对比系统页面
   - 系统自动加载已保存的工作区,或创建默认示例数据

2. **工作区管理**

   - **创建工作区**: 点击标签栏右侧的"➕"按钮,输入班级名称(如"2302 班数据对比")
   - **切换工作区**: 点击对应的工作区标签即可切换
   - **重命名工作区**: 双击工作区标签名称,输入新名称
   - **删除工作区**: 点击工作区标签上的"×"按钮(至少保留一个工作区)
   - 每个工作区独立管理数据,互不影响

3. **保存和备份**

   - **保存进度**: 点击"💾 保存进度"按钮,数据保存到浏览器本地
   - **保存状态**: 顶部右侧显示当前保存状态("已保存"或"未保存 \*")
   - **导出数据**: 点击"📤 导出数据"按钮,下载 JSON 文件到本地
   - **导入数据**: 点击"📥 导入数据"按钮,选择之前导出的 JSON 文件

4. **编辑图表标题**

   - 在"图表标题"输入框中修改标题
   - 工作区名称会自动同步为标题内容

5. **管理项目(X 轴)**

   - 点击"➕ 添加项目"增加新的测试项目
   - 在表格中直接编辑项目名称
   - **拖拽排序**: 按住表格行左侧的"☰"拖动,调整项目显示顺序
   - 点击项目行右侧的"🗑️"删除不需要的项目

6. **管理系列(图例)**

   - 点击"➕ 添加系列"增加新的数据系列
   - 在表头中直接编辑系列名称
   - 点击系列列头的"🗑️"删除系列

7. **编辑数据**

   - 在表格中直接输入数据
   - 数据会自动更新到图表
   - **记得点击"💾 保存进度"保存修改**

8. **导出图表图片**
   - 点击"📤 导出图片"按钮
   - 自动下载 PNG 格式的高清图表

#### 默认数据说明

系统预置了 2024 与 2025 年度体测数据对比示例:

- **项目**: 肺活量、50 米、坐位体前屈、一分钟跳绳、一分钟仰卧起坐
- **系列**: 2024 优秀/良好/及格、2025 优秀/良好/及格

## 🎯 设计理念

本系统遵循以下设计原则:

1. **现代化架构**: 使用 Next.js + React 构建,支持 SSR 和 SSG
2. **组件化设计**: React 组件化开发,代码可维护性强
3. **响应式设计**: Tailwind CSS 实现,适配各种屏幕尺寸
4. **类型安全**: TypeScript 提供类型检查,减少运行时错误
5. **用户体验**: 流畅的动画效果,直观的交互设计
6. **数据持久化**: localStorage 本地存储,数据不丢失

## 💡 使用技巧

### 弯道跑计分系统

1. **快速操作**: 每轮比赛可以快速点击各组别的名次按钮
2. **数据安全**: 系统自动保存,即使刷新页面也不会丢失数据
3. **导出记录**: 定期导出 Excel 文件作为备份
4. **重置功能**: 新比赛开始前记得重置所有数据

### 体测数据对比系统

1. **工作区管理**:

   - 为每个班级创建独立工作区,避免数据混淆
   - 工作区名称使用统一格式,如"2301 班数据对比"、"2302 班数据对比"
   - 定期导出数据文件作为备份

2. **数据编辑**:

   - 批量编辑: 先在表格中编辑好所有数据
   - 编辑完成后记得点击"💾 保存进度"

3. **拖拽排序**: 通过拖动表格行左侧的"☰"快速调整项目顺序

4. **图表缩放**: 当项目较多时,使用底部滑块或鼠标滚轮缩放查看

5. **数据备份**:

   - 使用"📤 导出数据"定期备份所有工作区数据
   - 导出的 JSON 文件可以在其他设备导入使用

6. **高清导出**: 导出的图片为 2 倍像素比,适合打印和展示

## 🌐 浏览器兼容性

- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ 移动端浏览器

建议使用现代浏览器以获得最佳体验。

## 📞 开发说明

### 开发环境要求

- Node.js 18+
- npm 9+ / yarn 1.22+ / pnpm 8+

### 本地开发

1. 克隆项目

```bash
git clone <repository-url>
cd tools-edu-xz
```

2. 安装依赖

```bash
npm install
```

3. 启动开发服务器

```bash
npm run dev
```

4. 在浏览器打开 `http://localhost:3000`

### 构建生产版本

```bash
npm run build
npm run start
```

### 代码规范

项目使用 ESLint 进行代码检查:

```bash
npm run lint
```

## 🔮 未来规划

计划添加的功能模块:

- 📊 运动会成绩统计系统
- ⏱️ 体育考试计时系统
- 🏅 奖牌榜管理系统
- 📈 运动数据分析系统
- 🌙 深色模式支持
- 📱 PWA 支持(离线使用)

## 🔄 版本历史

### v3.0.0 (最新) - Next.js 重构版

- ✅ 完全重构为 Next.js + React + Tailwind CSS
- ✅ 使用 TypeScript 提供类型安全
- ✅ 现代化的组件设计和交互体验
- ✅ 响应式设计,完美适配移动端
- ✅ 优化性能和加载速度
- ✅ 保留所有原有功能

### v2.1.0

- ✅ 体测数据对比系统新增拖拽排序功能
- ✅ 优化拖拽交互体验,添加视觉反馈

### v2.0.0

- ✅ 重构为多功能体育工具系统
- ✅ 实现基于 URL 参数的路由系统
- ✅ 集成弯道跑计分系统和体测数据对比系统

### v1.0.0

- ✅ 弯道跑计分系统独立版本

## 📄 许可证

本项目为开源项目,仅供学习和非商业用途使用。

---

**开发日期**: 2025 年 11 月 21 日  
**版本**: v3.0.0 (Next.js)  
**作者**: 体育工具系统开发团队

## 🆘 常见问题

### 1. 页面刷新后数据丢失怎么办?

数据会自动保存到浏览器的 localStorage 中。如果数据丢失,可能是:

- 浏览器清除了缓存
- 使用了隐私/无痕模式
- localStorage 被禁用

建议定期使用导出功能备份数据。

### 2. 如何在多台设备间同步数据?

1. 在设备 A 上点击"导出数据"按钮,下载 JSON 文件
2. 将 JSON 文件传输到设备 B
3. 在设备 B 上点击"导入数据"按钮,选择 JSON 文件

### 3. 图表显示不出来怎么办?

确保:

- 网络连接正常(ECharts 库需要加载)
- 浏览器支持 JavaScript
- 没有安装阻止脚本的浏览器插件

### 4. 如何修改计分规则?

目前计分规则是固定的(1-4 名分别 4-1 分)。如需修改,可以编辑 `pages/scoring.tsx` 文件中的 `scoreMap` 对象。

### 5. 可以添加更多组别吗?

当前版本固定为 A、B、C、D 四个组别。如需更多组别,需要修改代码中的 `groups` 初始化数组。

---

如有其他问题,欢迎提 Issue 或 PR! 🎉
