# 🏃‍♂️ 体育工具系统

一个集成化的体育比赛与数据管理工具平台，提供多种专业的体育工具，帮助您轻松管理体育比赛和数据分析。

## 📋 项目简介

本项目是一个多功能的体育工具系统，目前包含两个核心功能模块：

1. **弯道跑计分系统** - 简单、准确、易用的比赛计分工具
2. **体测数据对比系统** - 可视化体测数据对比分析工具

系统采用单页面应用（SPA）架构，通过 URL 参数实现不同工具模块之间的切换。

## 🚀 快速开始

### 访问方式

1. **主页入口**

   - 直接打开 `index.html`
   - 显示所有可用的工具模块
   - 点击相应的工具卡片进入对应功能

2. **直接访问特定工具**
   - 弯道跑计分系统：`index.html?scoring`
   - 体测数据对比系统：`index.html?compare`

### 导航说明

- 页面顶部有固定导航栏，可以随时切换不同的工具模块
- 导航栏会高亮显示当前所在的模块
- 点击品牌名称可返回主页

## ✨ 功能模块

### 1️⃣ 弯道跑计分系统

专为弯道跑比赛设计的实时计分工具。

#### 核心功能

- **实时计分**: 按轮次进行比赛计分，第 1 名 4 分，第 2 名 3 分，第 3 名 2 分，第 4 名 1 分
- **总分排行榜**: 实时显示各组别累计得分，支持同分情况的合理排名
- **比赛历史**: 完整记录每轮比赛的详细成绩
- **数据持久化**: 自动保存到本地存储，刷新页面数据不丢失
- **Excel 导出**: 一键导出总分排行榜和比赛历史为 Excel 文件

#### 使用方法

1. **开始比赛**

   - 访问 `index.html?scoring`
   - 系统默认会开始第一轮比赛
   - 为每个组别选择名次（点击 1、2、3、4 名按钮）

2. **提交成绩**

   - 确保所有组别都选择了名次
   - 点击"提交本轮成绩"按钮
   - 系统自动计算并更新总分

3. **查看排行榜**

   - 总分排行榜实时更新
   - 同分组别按字母顺序排列
   - 显示排名图标（🥇🥈🥉）

4. **导出数据**
   - 点击"📊 导出 Excel"按钮导出总分排行榜
   - 点击"📋 导出 Excel"按钮导出比赛历史

#### 计分规则

| 名次    | 得分 | 说明    |
| ------- | ---- | ------- |
| 第 1 名 | 4 分 | 🥇 金牌 |
| 第 2 名 | 3 分 | 🥈 银牌 |
| 第 3 名 | 2 分 | 🥉 铜牌 |
| 第 4 名 | 1 分 | 第四名  |

---

### 2️⃣ 体测数据对比系统

可视化体测数据对比分析工具，支持多年度、多等级数据对比，**全新多工作区管理功能**。

#### 核心功能

- **🗂️ 多工作区管理**: 类似 Excel 工作表，支持管理多个班级的数据
  - 创建、重命名、删除工作区
  - 快速切换不同班级数据
  - 工作区标签可双击重命名
- **💾 数据持久化**: 
  - 本地保存到 localStorage，数据不丢失
  - 一键保存当前进度
  - 实时显示保存状态
- **📥📤 导入导出**: 
  - 支持 JSON 格式数据导入导出
  - 方便数据备份和迁移
  - 支持跨设备数据传输
- **📊 数据可视化**: 基于 ECharts 的精美柱状图展示
- **🔄 动态数据管理**: 支持添加/删除项目和系列
- **↕️ 拖拽排序**: 通过拖动表格行调整项目显示顺序
- **✏️ 实时编辑**: 表格直接编辑，实时更新图表
- **🔍 图表缩放**: 支持数据缩放和滚动查看
- **📸 图片导出**: 一键导出高清图表图片

#### 使用方法

1. **访问系统**

   - 访问 `index.html?compare`
   - 系统自动加载已保存的工作区，或创建默认示例数据

2. **工作区管理**

   - **创建工作区**: 点击标签栏右侧的"➕"按钮，输入班级名称（如"2302班数据对比"）
   - **切换工作区**: 点击对应的工作区标签即可切换
   - **重命名工作区**: 双击工作区标签名称，输入新名称
   - **删除工作区**: 点击工作区标签上的"×"按钮（至少保留一个工作区）
   - 每个工作区独立管理数据，互不影响

3. **保存和备份**

   - **保存进度**: 点击"💾 保存进度"按钮，数据保存到浏览器本地
   - **保存状态**: 顶部右侧显示当前保存状态（"已保存"或"未保存 *"）
   - **导出数据**: 点击"📤 导出数据"按钮，下载 JSON 文件到本地
   - **导入数据**: 点击"📥 导入数据"按钮，选择之前导出的 JSON 文件

4. **编辑图表标题**

   - 在"图表标题"输入框中修改标题
   - 点击"🔄 刷新图表"更新显示
   - 工作区名称会自动同步为标题内容

5. **管理项目（X 轴）**

   - 点击"➕ 添加项目"增加新的测试项目
   - 在表格中直接编辑项目名称
   - **拖拽排序**: 按住表格行左侧的"☰"拖动，调整项目显示顺序
   - 点击项目行右侧的"🗑️"删除不需要的项目

6. **管理系列（图例）**

   - 点击"➕ 添加系列"增加新的数据系列
   - 在表头中直接编辑系列名称
   - 点击系列列头的"🗑️"删除系列

7. **编辑数据**

   - 在表格中直接输入数据
   - 修改完成后点击"🔄 刷新图表"
   - 图表会实时更新显示
   - **记得点击"💾 保存进度"保存修改**

8. **导出图表图片**
   - 点击"📤 导出图片"按钮
   - 自动下载 PNG 格式的高清图表

#### 默认数据说明

系统预置了 2024 与 2025 年度体测数据对比示例：

- **项目**: 肺活量、50 米、坐位体前屈、一分钟跳绳、一分钟仰卧起坐
- **系列**: 2024 优秀/良好/及格、2025 优秀/良好/及格

## 🛠️ 技术架构

### 前端技术栈

- **HTML5**: 语义化标签，单页面应用架构
- **CSS3**: 现代化样式，渐变背景，响应式设计
- **JavaScript**: ES6+语法，面向对象编程
- **ECharts 5**: 数据可视化图表库

### 核心特性

- **URL 路由**: 基于 URLSearchParams 实现客户端路由
- **数据持久化**: localStorage 本地存储（弯道跑计分系统）
- **响应式设计**: 适配各种屏幕尺寸
- **模块化设计**: 各功能模块独立，易于扩展

### 数据存储

- **localStorage**: 本地数据持久化（弯道跑计分系统）
- **JSON 格式**: 结构化数据存储
- **自动保存**: 操作后自动保存，页面刷新数据不丢失

## 📁 文件结构

```
体育工具系统/
├── index.html          # 主页面（集成所有功能模块）
├── styles.css          # 统一样式文件
├── script.js           # 弯道跑计分系统脚本
├── campare.html        # 体测数据对比系统（独立版本，已弃用）
├── debug.html          # 调试文件
└── README.md          # 说明文档（本文件）
```

## 🎯 设计理念

本系统遵循以下设计原则：

1. **模块化设计**: 各功能模块独立运行，互不干扰
2. **统一界面**: 统一的导航栏和设计风格，提供一致的用户体验
3. **简单易用**: 界面直观，操作简单，用户易于上手
4. **准确可靠**: 计分准确，数据可靠，自动保存防丢失
5. **美观现代**: 现代化界面设计，视觉效果佳
6. **响应式**: 适配各种设备，随时随地可用

## 🔧 自定义配置

### 修改弯道跑计分规则

如需修改计分规则，可以编辑 `script.js` 文件中的 `scoreMap` 对象：

```javascript
this.scoreMap = { 1: 4, 2: 3, 3: 2, 4: 1 }; // 当前规则
// 可以修改为其他规则，例如：
// this.scoreMap = { 1: 10, 2: 7, 3: 5, 4: 3 };
```

### 修改初始组别

默认组别可以在 `initializeData` 方法中修改：

```javascript
this.groups = ["A", "B", "C", "D"]; // 默认4个组别
// 可以修改为：
// this.groups = ['红队', '蓝队', '绿队', '黄队'];
```

### 添加新的工具模块

要添加新的工具模块：

1. 在 `index.html` 的主页区域添加新的工具卡片
2. 在 `index.html` 中添加新的页面容器 div
3. 在路由脚本中添加新的 URL 参数判断
4. 在导航栏中添加新的菜单项
5. 编写对应的功能代码和样式

## 📝 更新日志

### v2.1.0 (最新)

- ✅ 体测数据对比系统新增拖拽排序功能
- ✅ 优化拖拽交互体验，添加视觉反馈
- ✅ 支持通过拖动表格行调整项目显示顺序

### v2.0.0 (2025-11-13)

- ✅ 重构为多功能体育工具系统
- ✅ 实现基于 URL 参数的路由系统
- ✅ 添加统一的导航栏和主页
- ✅ 集成弯道跑计分系统
- ✅ 集成体测数据对比系统
- ✅ 优化响应式设计
- ✅ 统一界面风格

### v1.0.0

- ✅ 弯道跑计分系统独立版本
- ✅ 修复同分排名不一致的问题
- ✅ 添加 Excel 导出功能
- ✅ 优化界面显示和用户体验

## 💡 使用技巧

### 弯道跑计分系统

1. **快速操作**: 每轮比赛可以快速点击各组别的名次按钮
2. **数据安全**: 系统自动保存，即使刷新页面也不会丢失数据
3. **导出记录**: 定期导出 Excel 文件作为备份
4. **重置功能**: 新比赛开始前记得重置所有数据

### 体测数据对比系统

1. **工作区管理**: 
   - 为每个班级创建独立工作区，避免数据混淆
   - 工作区名称使用统一格式，如"2301班数据对比"、"2302班数据对比"
   - 定期导出数据文件作为备份
2. **数据编辑**: 
   - 批量编辑：先在表格中编辑好所有数据，再统一刷新图表
   - 编辑完成后记得点击"💾 保存进度"
3. **拖拽排序**: 通过拖动表格行左侧的"☰"快速调整项目顺序
4. **图表缩放**: 当项目较多时，使用底部滑块或鼠标滚轮缩放查看
5. **数据备份**: 
   - 使用"📤 导出数据"定期备份所有工作区数据
   - 导出的 JSON 文件可以在其他设备导入使用
6. **高清导出**: 导出的图片为 2 倍像素比，适合打印和展示
7. **命名规范**: 建议系列名称使用统一格式，便于对比

## 🌐 浏览器兼容性

- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ 移动端浏览器

建议使用现代浏览器以获得最佳体验。

## 📞 支持说明

如果在使用过程中遇到问题，可以：

1. 检查浏览器控制台是否有错误信息
2. 尝试清除浏览器缓存后重新加载
3. 确保浏览器支持 HTML5 和 ES6 语法
4. 检查网络连接（体测数据对比需要加载 ECharts 库）

## 🔮 未来规划

计划添加的功能模块：

- 📊 运动会成绩统计系统
- ⏱️ 体育考试计时系统
- 🏅 奖牌榜管理系统
- 📈 运动数据分析系统

## 📄 许可证

本项目为开源项目，仅供学习和非商业用途使用。

---

**开发日期**: 2025 年 11 月 13 日  
**版本**: v2.0.0  
**作者**: 体育工具系统开发团队
